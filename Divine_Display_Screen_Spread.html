<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Divine Display — Screen Spread</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    html,body {
      height:100%;
      margin:0;
      background:#ffffff;
      font-family:Inter,Arial,Helvetica,sans-serif;
      color:#0f1720;
      display:flex;
      flex-direction:column;
    }
    .header {
      padding:12px;
      text-align:center;
      font-weight:700;
      font-size:1.2rem;
    }
    .map-wrapper {
      flex:1;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:12px;
      box-sizing:border-box;
    }
    #map {
      width:100%;
      height:100%;
      max-width:1600px;   /* limit width for very large screens */
      max-height:900px;   /* limit height for very large screens */
      border-radius:8px;
      box-shadow:0 6px 18px rgba(15,23,32,0.06);
    }
    /* top-right stack: caption + legend, responsive */
    .top-right {
      position:absolute;
      top:12px;
      right:12px;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:flex-end;
      z-index:9999;
    }
    .stack-box {
      width:220px; /* same width for caption and legend */
      background:rgba(255,255,255,0.96);
      padding:8px;
      border-radius:8px;
      box-shadow:0 6px 18px rgba(15,23,32,0.06);
      box-sizing:border-box;
    }
    .wm-caption {
      display:flex;
      align-items:center;
      gap:8px;
    }
    .wm-caption svg {width:28px;height:28px;opacity:0.92}
    .wm-caption .brand {font-weight:700;font-size:0.9rem}
    .legend .title {font-weight:700;margin-bottom:6px}
    .legend .item {display:flex;align-items:center;gap:8px;margin:4px 0}
    .swatch {width:16px;height:16px;border-radius:4px;border:1px solid rgba(15,23,32,0.06)}
    .label-pill {
      background:rgba(255,255,255,0.98);
      padding:4px 8px;
      border-radius:10px;
      font-weight:600;
      font-size:0.8rem;
      border:1px solid rgba(15,23,32,0.06);
      box-shadow:0 6px 12px rgba(15,23,32,0.03);
    }
  </style>
</head>
<body>
  <div class="header">Divine Display — Screen Spread </div>
  <div class="map-wrapper">
    <div id="map"></div>
    <div class="top-right">
      <div class="stack-box wm-caption">
        <!-- inline SVG icon -->
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="20" height="20" rx="4" fill="#BFA16A"/>
          <path d="M7 12h10M7 8h10M7 16h6" stroke="#fff" stroke-width="1.6" stroke-linecap="round"/>
        </svg>
        <div class="brand">Divine Display</div>
      </div>
      <div class="stack-box legend">
        <div class="title">Legend (State)</div>
        <div class="item"><div class="swatch" style="background:#1E88E5"></div><div>Gujarat</div></div>
        <div class="item"><div class="swatch" style="background:#FB8C00"></div><div>Uttar Pradesh</div></div>
        <div class="item"><div class="swatch" style="background:#43A047"></div><div>Uttarakhand</div></div>
	<div class="item"><div class="swatch" style="background:#F5BE27"></div><div class="label">Maharashtra</div></div>
        <div class="item"><div class="swatch" style="background:#F54927"></div><div class="label">Madhya Pradesh</div></div>
        <div class="item"><div class="swatch" style="background:#F5DD27"></div><div class="label">Odisha</div></div>
        <div class="item"><div class="swatch" style="background:#09EDD4"></div><div class="label">Bihar</div></div>

      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const points = [
      {city:"Bhuj", state:"Gujarat", lat:23.25, lon:69.6667, count:2},
      {city:"Chotila", state:"Gujarat", lat:22.755, lon:71.347, count:1},
      {city:"Dwarka", state:"Gujarat", lat:22.241, lon:68.968, count:3},
      {city:"Somnath", state:"Gujarat", lat:20.8833, lon:70.4028, count:2},
      {city:"Haridwar", state:"Uttarakhand", lat:29.9457, lon:78.1642, count:3},
      {city:"Rishikesh", state:"Uttarakhand", lat:30.0869, lon:78.2676, count:1},
      {city:"Mathura", state:"Uttar Pradesh", lat:27.4924, lon:77.6737, count:2},
      {city:"Vrindavan", state:"Uttar Pradesh", lat:27.5718, lon:77.6997, count:3},
      {city:"Varanasi", state:"Uttar Pradesh", lat:25.3176, lon:82.9739, count:4},
      {city:"Nashik", state:"Maharashtra", lat:19.9957, lon:73.7907, count:2},
      {city:"Shirdi", state:"Maharashtra", lat:19.7645, lon:74.4765, count:1},
      {city:"Ujjain", state:"Madhya Pradesh", lat:23.1767, lon:75.7862, count:3},
      {city:"Puri", state:"Odisha", lat:19.8131, lon:85.8311, count:2},
      {city:"BodhGaya", state:"Bihar", lat:24.7934, lon:84.9995, count:2}
 
];
    const stateColors = {"Gujarat":"#1E88E5","Uttar Pradesh":"#FB8C00","Uttarakhand":"#43A047","Madhya Pradesh":"#F54927","Maharashtra":"#F5BE27","Odisha":"#F5DD27","Bihar":"#09EDD4"};
    const MARKER_DIAMETER = 28, MARKER_RADIUS = MARKER_DIAMETER/2;

    const map = L.map('map',{zoomControl:true,attributionControl:false}).setView([24.2,77.0],5.2);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',{maxZoom:19,crossOrigin:true}).addTo(map);

    points.forEach(p=>{
      const color = stateColors[p.state]||'#9e9e9e';
      const markerHtml = `<div style="width:${MARKER_DIAMETER}px;height:${MARKER_DIAMETER}px;border-radius:50%;background:${color};border:1px solid rgba(0,0,0,0.06)"></div>`;
      const icon = L.divIcon({html:markerHtml,iconSize:[MARKER_DIAMETER,MARKER_DIAMETER],iconAnchor:[MARKER_RADIUS,MARKER_RADIUS]});
      L.marker([p.lat,p.lon],{icon}).addTo(map);

      const labelHtml = `<div class="label-pill">${p.city} — ${p.count}</div>`;
      const labelIcon = L.divIcon({html:labelHtml,iconAnchor:[0,0]});
      L.marker([p.lat+0.2,p.lon+0.2],{icon:labelIcon,interactive:false}).addTo(map);
    });

    window.addEventListener('resize',()=>map.invalidateSize());
  </script>
</body>
</html>
